<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Will You Be My Valentine?</title>

  <style>
    body {
      height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: "Arial", sans-serif;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      overflow: hidden;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 28px;
      color: #3a0f23;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    /* Big final headline (hidden until final YES) */
    #yayText {
      display: none;
      font-size: clamp(56px, 8vw, 96px);
      font-weight: 800;
      letter-spacing: 2px;
      color: #3a0f23;
      text-align: center;
      margin: 0 0 16px 0;
      position: relative;
      z-index: 3;
      text-shadow: 0 10px 22px rgba(0,0,0,0.12);
    }
#kissGif {
  display: none;
  width: min(520px, 82vw);     /* never wider than 520px, but responsive */
  max-height: 42vh;            /* prevents vertical overflow */
  object-fit: contain;         /* keeps aspect ratio */
  border-radius: 18px;
  box-shadow: 0 14px 40px rgba(0,0,0,0.28);
}
    .buttons {
      position: relative;
      width: 100%;
      height: 420px; /* taller: 3 gifs + a bigger kiss gif */
      text-align: center;
      z-index: 2;
    }

    /* YES button */
    #yesBtn {
      font-size: 20px;
      padding: 15px 40px;
      border: none;
      border-radius: 8px;
      background-color: #ff3b6f;
      color: white;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
      transition: transform 0.2s ease;
    }

    #yesBtn:hover {
      transform: scale(1.1);
    }

    /* NO button */
    #noBtn {
      position: fixed;
      left: 56%;
      top: 55%;
      font-size: 13px;
      padding: 8px 16px;
      border: none;
      border-radius: 18px;
      background-color: #6b6b6b;
      color: white;
      letter-spacing: 0.3px;
      pointer-events: none;      /* non-clickable */
      user-select: none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      will-change: left, top;
      z-index: 3;
    }

    /* Stage prompt */
    #stagePrompt {
      margin-top: 16px;
      font-size: 16px;
      color: #4a1d2f;
      opacity: 0.95;
      min-height: 22px;
      position: relative;
      z-index: 2;
    }

    /* GIF container */
    #gifWrap {
      margin-top: 18px;
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 12px;
      position: relative;
      z-index: 2;
    }

    /* Side-by-side GIF row */
    #gifRow {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      padding: 0 14px;
    }

    #gifRow img {
      width: min(240px, 26vw);
      max-width: 280px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }

    /* Bigger kiss gif */
    #kissGif {
      display: none;
      width: min(520px, 84vw);
      border-radius: 18px;
      box-shadow: 0 14px 40px rgba(0,0,0,0.28);
    }

    #gifCaption {
      font-size: 14px;
      color: #4a1d2f;
      opacity: 0.9;
    }

    /* Default-mode question mark GIFs */
    #qGifs {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    .qGif {
  position: absolute;
  width: min(200px, 26vw);    /* üëà increased size */
  opacity: 0.95;
  border-radius: 14px;
  box-shadow: 0 12px 28px rgba(0,0,0,0.22);
  transform: rotate(0deg);
}


    /* T&C */
    .tnc {
      position: absolute;
      bottom: 15px;
      font-size: 12px;
      color: #4a1d2f;
      opacity: 0.8;
      z-index: 2;
    }

    /* Confetti pieces */
    .confetti {
      position: absolute;
      top: -10px;
      width: 10px;
      height: 14px;
      opacity: 0.9;
      animation: fall linear forwards;
      pointer-events: none;
      z-index: 5;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(720deg);
        opacity: 1;
      }
    }
  </style>
</head>

<body>

  <!-- Default-mode question mark GIFs (removed after final YES) -->
  <div id="qGifs" aria-hidden="true">
    <img class="qGif" alt="?" />
    <img class="qGif" alt="?" />
    <img class="qGif" alt="?" />
    <img class="qGif" alt="?" />
    <img class="qGif" alt="?" />
  </div>

  <h1 id="mainTitle">Will you be my Valentine, Nidhi? ‚ù§Ô∏è</h1>

  <!-- Big success text (hidden until final YES) -->
  <div id="yayText">YAYYYYYYY</div>

  <div class="buttons">
    <button id="yesBtn">YES</button>
    <div id="stagePrompt"></div>

    <div id="gifWrap">
      <div id="gifRow">
        <img class="gifImg" alt="Valentine GIF 1" />
        <img class="gifImg" alt="Valentine GIF 2" />
        <img class="gifImg" alt="Valentine GIF 3" />
      </div>

      <img id="kissGif" alt="Kisses GIF" />

      <div id="gifCaption">Ok fine, you said yes üòåüíñ</div>
    </div>
  </div>

  <button id="noBtn">no</button>

  <div class="tnc">* no is a bit shy</div>

  <script>
    // ‚úÖ Your 3 post-submit GIFs (side-by-side)
    const gifUrls = [
      "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHJ4MG91bTIzMWZib2RwZnR3ejJkY2xrOThydHE3bTFud2hqdmVtZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lxxOGaDRk4f7R5TkBd/giphy.gif",
      "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExNGp1ZTVjdXp4cHFxOWMwM3VwYWxkMGpzMnJza3ZrZ3FqdWZ3NXUzdCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/cK3RF0ufQXi6WbO2IV/giphy.gif",
      "https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExd24xeGFhdXY2amQ2N3dsMXFmbnAzNWliM3IzMnlxcTBvOWp6bmozbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/9n0CvokbUMaWhFuCkp/giphy.gif"
    ];

    // ‚úÖ 4th bigger "kisses" gif (replace with your preferred one)
    const kissesGifUrl = "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ2J6dnoxOHBydmVyM3YwM2RrM2s3Y2QybnVhOTlubjYxa3FzbmcwcCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/MDJ9IbxxvDUQM/giphy.gif";

    // ‚úÖ Default-mode "question mark" vibes (removed after final YES)
    const questionGifUrls = [
      "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExemRpYjV6ZWdtNzV5MDV1eWlhbW51dnVyaG4ydThsaTBsbmZ3ZGk0cSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/OnVGNHwl1FtIDTI7fJ/giphy.gif",
      "https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif",
      "https://media.giphy.com/media/5VKbvrjxpVJCM/giphy.gif",
      "https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif",
      "https://media.giphy.com/media/2t9sDPrlvFpdK/giphy.gif"
    ];

    // Multi-stage YES flow
    const stages = [
      { prompt: "Are you sure? üòè", yesText: "Yes" },
      { prompt: "Like‚Ä¶ REALLY sure? ü•∫", yesText: "Yes, really" },
      { prompt: "Last chance to back out üòå", yesText: "Okay YES" },
      { prompt: "Locking it in‚Ä¶ üíò", yesText: "YESSS!" }
    ];
    let stageIndex = 0;

    const mainTitle = document.getElementById("mainTitle");
    const yayText = document.getElementById("yayText");

    const yesBtn = document.getElementById("yesBtn");
    const stagePrompt = document.getElementById("stagePrompt");
    const gifWrap = document.getElementById("gifWrap");
    const gifImgs = Array.from(document.querySelectorAll(".gifImg"));
    const kissGif = document.getElementById("kissGif");

    // Question GIF elements
    const qGifsWrap = document.getElementById("qGifs");
    const qGifImgs = Array.from(document.querySelectorAll("#qGifs .qGif"));

    function placeQuestionGifs() {
      const positions = [
        { left: 6,  top: 12, rot: -10 },
        { left: 78, top: 10, rot: 8 },
        { left: 8,  top: 70, rot: 6 },
        { left: 78, top: 72, rot: -8 },
        { left: 42, top: 78, rot: 3 }
      ];

      qGifImgs.forEach((img, i) => {
        img.src = questionGifUrls[i % questionGifUrls.length];
        img.style.left = positions[i].left + "vw";
        img.style.top = positions[i].top + "vh";
        img.style.transform = `rotate(${positions[i].rot}deg)`;
      });
    }

    placeQuestionGifs();
    window.addEventListener("resize", placeQuestionGifs);

    function removeQuestionGifs() {
      if (qGifsWrap) qGifsWrap.remove();
    }

    function showGifs(urls) {
      gifImgs.forEach((img, idx) => {
        if (urls[idx]) {
          img.src = urls[idx];
          img.style.display = "block";
        } else {
          img.style.display = "none";
        }
      });
      gifWrap.style.display = "flex";
    }

    // ---- Confetti: keep going for 20‚Äì30 seconds ----
    let confettiTimer = null;
    let confettiStopper = null;

    function burstConfetti(count = 120) {
      const colors = ["#ff3b6f", "#ffffff", "#ffd1dc", "#b3003c", "#ffcc00", "#6a00ff", "#00c2ff"];
      const durationMin = 1600;
      const durationMax = 3400;

      for (let i = 0; i < count; i++) {
        const piece = document.createElement("div");
        piece.className = "confetti";

        const sizeW = 6 + Math.random() * 10;
        const sizeH = 8 + Math.random() * 14;
        piece.style.width = sizeW + "px";
        piece.style.height = sizeH + "px";

        piece.style.left = (Math.random() * 100) + "vw";
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];

        const dur = durationMin + Math.random() * (durationMax - durationMin);
        piece.style.animationDuration = dur + "ms";

        const drift = (Math.random() * 2 - 1) * 160;
        piece.style.transform = `translateX(${drift}px) rotate(${Math.random() * 360}deg)`;

        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), dur + 200);
      }
    }

    function startConfettiFor(ms) {
      // keep creating bursts, then stop after ms
      if (confettiTimer) clearInterval(confettiTimer);
      if (confettiStopper) clearTimeout(confettiStopper);

      burstConfetti(220); // big first hit
      confettiTimer = setInterval(() => burstConfetti(120), 650);

      confettiStopper = setTimeout(() => {
        clearInterval(confettiTimer);
        confettiTimer = null;
      }, ms);
    }

    yesBtn.addEventListener("click", () => {
      // Advance stages
      if (stageIndex < stages.length) {
        stagePrompt.textContent = stages[stageIndex].prompt;
        yesBtn.textContent = stages[stageIndex].yesText;

        const grow = 1 + stageIndex * 0.08;
        yesBtn.style.transform = `scale(${grow})`;

        stageIndex++;
        return;
      }

      // ‚úÖ Final YES outcome:
      // 1) remove the main title
      // 2) show big YAYYYYYYY
      // 3) remove question gifs
      // 4) show 3 gifs + bigger kisses gif
      // 5) confetti for ~25s (20‚Äì30 target)
      mainTitle.style.display = "none";
      yayText.style.display = "block";

      stagePrompt.textContent = ""; // optional: clean up prompt line
      removeQuestionGifs();

      showGifs(gifUrls);

      kissGif.src = kissesGifUrl;
      kissGif.style.display = "block";

      startConfettiFor(25000); // 25 seconds (within your 20‚Äì30 window)

      yesBtn.disabled = true;
      yesBtn.style.cursor = "default";
      yesBtn.style.opacity = "0.9";
    });

    // --- NO button: runs away from cursor but NEVER leaves the screen ---
    const noBtn = document.getElementById("noBtn");

    let noX = window.innerWidth * 0.56;
    let noY = window.innerHeight * 0.55;
    noBtn.style.left = noX + "px";
    noBtn.style.top = noY + "px";

    function clamp(val, min, max) {
      return Math.max(min, Math.min(max, val));
    }

    document.addEventListener("mousemove", (e) => {
      const rect = noBtn.getBoundingClientRect();

      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;

      const dx = cx - e.clientX;
      const dy = cy - e.clientY;
      const dist = Math.hypot(dx, dy);

      const trigger = 150;
      if (dist < trigger) {
        const nx = dx / (dist || 1);
        const ny = dy / (dist || 1);

        const speed = 10 + (trigger - dist) * 0.25;

        noX = rect.left + nx * speed;
        noY = rect.top + ny * speed;

        const pad = 10;
        const maxX = window.innerWidth - rect.width - pad;
        const maxY = window.innerHeight - rect.height - pad;

        noX = clamp(noX, pad, maxX);
        noY = clamp(noY, pad, maxY);

        noBtn.style.left = noX + "px";
        noBtn.style.top = noY + "px";
      }
    });

    window.addEventListener("resize", () => {
      const rect = noBtn.getBoundingClientRect();
      const pad = 10;
      const maxX = window.innerWidth - rect.width - pad;
      const maxY = window.innerHeight - rect.height - pad;

      const currentLeft = parseFloat(noBtn.style.left) || rect.left;
      const currentTop = parseFloat(noBtn.style.top) || rect.top;

      noX = clamp(currentLeft, pad, maxX);
      noY = clamp(currentTop, pad, maxY);

      noBtn.style.left = noX + "px";
      noBtn.style.top = noY + "px";
    });
  </script>

</body>
</html>
